{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","common/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","common/Button/Button.module.css","components/SearchBar/SearchBar.js","services/imagesApi.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","common/Modal/Modal.js","components/ImageGallery/ImageGallery.js","common/Button/Button.js","common/Notifications/Notifications.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","name","SearchFormButton","SearchFormButtonLabel","Component","fetchImages","page","perPage","axios","get","then","response","data","hits","ImageGalleryItem","elem","getImgForModal","webformatURL","tags","src","alt","ImageGalleryItem__image","onClick","Modal","closeModal","target","nodeName","code","hideModal","window","addEventListener","removeEventListener","Overlay","children","ImageGallery","showModal","toggleModal","gallery","largeImageURL","map","item","id","Button","getNewPage","data-action","Notifications","fetchLength","galleryLength","searchQuery","error","defaultProps","App","isLoading","getQueryByForm","setNewPage","prevState","fetchImagesByQuery","prevProps","result","length","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f015144e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__30UAV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Ynl8\",\"Modal\":\"Modal_Modal__3ttv_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1HRl7\"};","import React, { Component } from 'react';\nimport styles from './SearchBar.module.css';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query } = this.state;\n    this.props.onSubmit({ query });\n    this.setState({ query: '' });\n  };\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.SearchBar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            name=\"query\"\n            value={query}\n          />\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchBar;\n","import axios from 'axios';\n\nconst API_KEY = '19922290-d1fcc8d698349f9cb6de79e81';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImages({ query = '', page = 1, perPage = 12 }) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    )\n    .then(response => response.data.hits);\n}\n\nexport { fetchImages };\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ elem, getImgForModal }) => {\n  const { webformatURL, tags } = elem;\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={styles.ImageGalleryItem__image}\n        onClick={() => getImgForModal({ elem })}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  elem: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  getImgForModal: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModal);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModal);\n  }\n\n  closeModal = e => {\n    if (e.target.nodeName !== 'IMG' || e.code === 'Escape') {\n      this.props.hideModal();\n    }\n  };\n  render() {\n    return (\n      <div className={styles.Overlay} onClick={this.closeModal}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  hideModal: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from '../../common/Modal';\n\nclass ImageGallery extends Component {\n  state = {\n    elem: '',\n    showModal: false,\n  };\n  toggleModal = () => {\n    this.setState({\n      showModal: !this.state.showModal,\n    });\n  };\n  getImgForModal = ({ elem }) => {\n    if (elem) {\n      this.toggleModal();\n      this.setState({\n        elem,\n      });\n    }\n  };\n  render() {\n    const { showModal, elem } = this.state;\n    const { gallery } = this.props;\n    const { tags, largeImageURL } = elem;\n    return (\n      <ul className={styles.ImageGallery}>\n        {gallery.map(item => {\n          return (\n            <ImageGalleryItem\n              key={item.id}\n              elem={item}\n              getImgForModal={this.getImgForModal}\n            />\n          );\n        })}\n        {showModal && (\n          <Modal hideModal={this.toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </ul>\n    );\n  }\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ getNewPage }) => {\n  return (\n    <button\n      className={styles.Button}\n      type=\"button\"\n      data-action=\"load-more\"\n      onClick={getNewPage}\n    >\n      Load more\n    </button>\n  );\n};\nButton.propTypes = {\n  getNewPage: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Notifications = ({ fetchLength, galleryLength, searchQuery, error }) => {\n  if (error) {\n    return <p>Oops! Something wrong!</p>;\n  } else if (!error) {\n    if (!searchQuery) {\n      return <p>Please enter image name!</p>;\n    } else if (searchQuery) {\n      if (!fetchLength && !galleryLength) {\n        return <p>Image not found. Please check your request and try again!</p>;\n      } else if (fetchLength < 12 && galleryLength > 0) {\n        return <p>These are all the images we found!</p>;\n      }\n    }\n  }\n\n  return <p></p>;\n};\nNotifications.defaultProps = {\n  fetchLength: 0,\n  galleryLength: 0,\n  searchQuery: '',\n  error: false,\n};\nNotifications.propTypes = {\n  fetchLength: PropTypes.number,\n  galleryLength: PropTypes.number,\n  searchQuery: PropTypes.string,\n  error: PropTypes.bool,\n};\nexport default Notifications;\n","import React, { Component } from 'react';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport SearchBar from './components/SearchBar';\nimport { fetchImages } from './services/imagesApi';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './common/Button';\nimport Notifications from './common/Notifications/Notifications';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n    fetchLength: null,\n    isLoading: false,\n    error: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (query !== prevState.query && query !== '') {\n      this.fetchImagesByQuery(query);\n    } else if (query === prevState.query && page !== prevState.page) {\n      this.fetchImagesByQuery(query);\n    }\n  }\n\n  getQueryByForm = ({ query }) => {\n    this.setState({ query: '', page: 1, gallery: [], fetchLength: 0 });\n    this.setState({ query: query, page: 1, gallery: [] });\n  };\n\n  setNewPage = e => {\n    e.preventDefault();\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  fetchImagesByQuery = (prevProps, prevState) => {\n    const { query, page, perPage } = this.state;\n\n    this.setState({ isLoading: true });\n    fetchImages(query, page, perPage)\n      .then(result => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...result],\n          fetchLength: result.length,\n        }));\n      })\n      .catch(error => {\n        this.setState({ error: true });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n  render() {\n    const { gallery, fetchLength, isLoading, query, error } = this.state;\n    return (\n      <div className=\"App\">\n        <h1>Search image</h1>\n        <SearchBar onSubmit={this.getQueryByForm} />\n        <ImageGallery gallery={gallery} />\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {fetchLength === 12 && !isLoading && (\n          <Button getNewPage={this.setNewPage} />\n        )}\n\n        <Notifications\n          fetchLength={fetchLength}\n          galleryLength={gallery.length}\n          searchQuery={query}\n          error={error}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__2Pbl1\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\"};"],"sourceRoot":""}